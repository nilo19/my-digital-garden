---
{"dg-publish":true,"permalink":"/Nick's Digital Garden/Notion+ChatGPT/","tags":["blog"]}
---

## 记账app的痛点
我是一个记账app的重度用户。几年之前，我开始使用MoneyWiz管理我的个人支出。MoneyWiz是一款老牌的记账app，它功能十分丰富，支持所有常用的记账功能。但是渐渐地，我开始意识到，**记账应该是简单、快速且无感的**。你不应该花费太多时间去定制化你的app，比如研究各种收支分类、确保各个账户上的余额始终正确等等。相反，记账是一种习惯，但是习惯的养成阶段如果成本过高，那很容易就放弃了。照着这个思路，后来我也使用过其他更简洁的记账app，比如钱迹，iCost。但始终感觉没有那么完美。于是，我决定舍弃这些付费订阅，自己动手制作一款风格极简、记账快速直接且涵盖了基本用法的记账workflow。
## 需求分析
我对记账的基本要求是：
> 1. 过程简单快速
> 2. 满足常用需求

除此之外的功能都可以舍弃。于是我想到了Notion Database。它可以很轻松地添加条目、统计收支，还可以按时间或分类查看具体的收支内容。

那如何实现过程的简单快速呢？我们可以看一下主流记账app的工作流程：
> 打开app ➡️ 点击新建 ➡️ 选择分类（如果分类不常用还需要寻找分类的位置）➡️ 输入金额与备注 ➡️ 点击确认

其实这个流程在熟练后并不会花费太多时间。但是毕竟需要一系列的点击与输入，日积月累也会消耗很多时间。如果你刚开始上手，那很容易就会萌生退意，从而失去记账这个优秀的习惯。
## 简化流程
1. 简化记账操作
那就在此基础上开始简化：
- 完全不用点击各种按钮，直接语音输入。在不方便说话的场合，可以直接输入自然语言；
-  除此之外便不再有任何操作，等待完成即可。

一个很自然的想法就是使用ChatGPT来解析输入，并发送给Notion Database。这些过程可以用Apple快捷指令来连接，打到效率最大化。
2. 简化记账分类
记账app的分类非常繁多，很多记账教程上也说，分类要尽可能细致，这样复盘的时候才能对自己的财务状况有准确的了解。但是根据我的经验和网上的一些资料，分类完全不用太细致，只需要粗略地涵盖日常收支的具体类型即可。在统计复盘时，使用分类+备注来进行检索是完全够用的。在此基础上，我将日常开销分为6大类：
> 日常：小额随机收支。比如吃饭，日常购物，加油，寄快递...
> 大件：低频开支。比如买家具，电子产品，健身卡...
> 固定：周期性必须开支。比如水电费，物业费，房租...
> 娱乐：娱乐开支。比如看电影，听音乐会...
> 社交：人情往来开支。比如送礼，社交活动...
> 其他：都不符合上述描述的收支。比如工资收入等。
3. 简化检索流程
记账app都支持丰富的检索/可视化选项。但是绝大部分使用频率都很低。那些好看的图表其实并不是必需品。所以我完全使用Notion databse里的搜索和分类功能，将收支按天、月和收支类别分类。并且利用事件名和备注来完成检索。这样完全能满足日常的检索和复盘需求。
## 具体实现
1. 我的环境：IOS/IpadOS17, ChatGPT app （有Plus订阅），Notion网页版或app。
2. 首先，打开ChatGPT app，点击左上角菜单➡️下方账户名➡️Custom instructions➡️How would you like ChatGPT to respond?➡️输入下面的Prompt:
```
如果接收到的输入为账单事件，自动转化为智能记账机器人，以下为触发的输入示例与具体要求。
输入示例：{1}{2}{3}{4}，其中{1}为事件，{2}为与花费或收入相关的动词，是可选项，举例：“退款”是代表收入的动词，以此类推。{3}为金额，{4}为备注，是可选项。
具体要求：
如果接收到指定格式输入转化为只能记账机器人后，你需要从我提供的自然语言输入中四个要素：事件、事件分类、金额和备注，并按照指定格式输出。
1. 事件：提取输入中的主要活动。
2. 事件分类：根据输入内容，从以下分类中选择一个最合适的：大件、娱乐、社交、固定、日常和其他。其中，“日常”指小额随机开销（吃饭，日常购物等），“固定”指周期性必须开支（水电，物业费，房租等），“大件”指非经常性大额消费（买家具，买电器等），“娱乐”指娱乐开支（看电影，听音乐会等），社交指人情往来开支（送礼，社交活动等）。如果都不符合上述分类，则归为"其他"。    
3. 金额：提取数额并以阿拉伯数字表示，忽略货币单位，如果不是整数则保留两位小数。如果输入中动词是花费类则输出负数，如果动词是收入类则输出正数。        
4. 备注：如果输入中包含“备注”字样，提取其后的内容；如果没有，则只输出一个逗号做结尾。
输出格式应为：事件,事件分类,花费,备注。请不要使用引号或换行。我会把你的输出全部放进账本，所以不要输出与上面4个内容无关的任何字符。
示例，输入“送礼用了1000” 应输出为：“送礼,社交,-1000,”
```
3. 打开Notion，复制我制作的[财务管理模板](https://nicktmpl.notion.site/1899fdb3419f487b865a48db821e1f66?pvs=4)。
4. 获取这个database，请参考[Notion官方文档](https://developers.notion.com/reference/retrieve-a-database)。
5. 使用我制作的[快捷指令](https://www.icloud.com/shortcuts/cf6cc6a091b94ba681c376d297171c19)，用Safari浏览器打开链接。
6. 将如图所示“文本”中的`"database_id"`替换为你的database ID。
7. 大功告成，开始使用。使用语音或文字输入，并核对分类是否正确，然后上传Notion database。

## 备注
> 1. 不一定需要GPT-4，但是如果使用GPT-3的话，你需要好好调试Prompt，然后总体流程按照上面的介绍即可。
> 2. 国内访问ChatGPT需要魔法上网。请根据自己的网络环境，在快捷指令中添加魔法。
